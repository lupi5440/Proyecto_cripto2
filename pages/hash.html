<section id="hash" class="page">
    <h2>ğŸ”— Funciones Hash CriptogrÃ¡ficas</h2>
    <p class="page-description">Las funciones hash son algoritmos que transforman datos de cualquier tamaÃ±o
        en un valor de tamaÃ±o fijo (hash). Son fundamentales para verificar integridad, almacenar contraseÃ±as y
        blockchain [1-3,11].</p>

    <div class="demo-container">
        <div class="demo-section">
            <h3>ğŸ¯ Propiedades de una FunciÃ³n Hash [1-3,11]</h3>
            <div class="algo-info">
                <ul>
                    <li><strong>Determinista:</strong> Misma entrada â†’ Siempre mismo hash</li>
                    <li><strong>RÃ¡pida:</strong> CÃ¡lculo eficiente del hash</li>
                    <li><strong>Efecto avalancha:</strong> PequeÃ±o cambio â†’ Hash completamente diferente</li>
                    <li><strong>Unidireccional:</strong> Imposible obtener entrada desde hash</li>
                    <li><strong>Resistencia a colisiones:</strong> DifÃ­cil encontrar dos entradas con mismo hash</li>
                </ul>
            </div>
        </div>

        <div class="demo-section">
            <h3>ğŸ§ª DemostraciÃ³n Interactiva</h3>
            <div class="input-group">
                <label for="hash-input">Texto a hashear:</label>
                <input type="text" id="hash-input" placeholder="Escribe algo..." value="Hola Mundo" />
            </div>

            <button id="hash-calculate" class="btn-primary">Calcular Hashes</button>

            <div id="hash-results" class="result-box">
                <p>Los hashes aparecerÃ¡n aquÃ­...</p>
            </div>

            <div class="info-box" style="margin-top: 16px; background: #fff3e0;">
                <strong>ğŸ’¡ Prueba esto:</strong> Cambia una sola letra y observa cÃ³mo el hash cambia completamente
                (efecto avalancha)
            </div>
        </div>
    </div>

    <div class="comparison-table">
        <h3>ğŸ“Š Algoritmos Hash Populares [11]</h3>
        <table>
            <thead>
                <tr>
                    <th>Algoritmo</th>
                    <th>TamaÃ±o</th>
                    <th>Velocidad</th>
                    <th>Seguridad</th>
                    <th>Uso</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>MD5</strong></td>
                    <td>128 bits</td>
                    <td>âš¡ Muy rÃ¡pido</td>
                    <td>ğŸ”´ Roto (colisiones)</td>
                    <td>âŒ No usar</td>
                </tr>
                <tr>
                    <td><strong>SHA-1</strong></td>
                    <td>160 bits</td>
                    <td>âš¡ RÃ¡pido</td>
                    <td>ğŸŸ¡ DÃ©bil</td>
                    <td>âš ï¸ Deprecado</td>
                </tr>
                <tr>
                    <td><strong>SHA-256</strong></td>
                    <td>256 bits</td>
                    <td>âš¡ RÃ¡pido</td>
                    <td>ğŸŸ¢ Seguro</td>
                    <td>âœ… Bitcoin, SSL</td>
                </tr>
                <tr>
                    <td><strong>SHA-512</strong></td>
                    <td>512 bits</td>
                    <td>âš¡ RÃ¡pido</td>
                    <td>ğŸŸ¢ Muy seguro</td>
                    <td>âœ… Alta seguridad</td>
                </tr>
                <tr>
                    <td><strong>SHA-3</strong></td>
                    <td>Variable</td>
                    <td>ğŸŒ Moderado</td>
                    <td>ğŸŸ¢ Muy seguro</td>
                    <td>âœ… EstÃ¡ndar nuevo</td>
                </tr>
                <tr>
                    <td><strong>bcrypt</strong></td>
                    <td>184 bits</td>
                    <td>ğŸŒ Lento</td>
                    <td>ğŸŸ¢ Muy seguro</td>
                    <td>âœ… ContraseÃ±as</td>
                </tr>
                <tr>
                    <td><strong>Argon2</strong></td>
                    <td>Variable</td>
                    <td>ğŸŒ Lento</td>
                    <td>ğŸŸ¢ Excelente</td>
                    <td>âœ… ContraseÃ±as (mejor)</td>
                </tr>
            </tbody>
        </table>
    </div>

    <div class="demo-container">
        <div class="demo-section attack-section">
            <h3>âš ï¸ Colisiones - El Problema de MD5 [1-3,11]</h3>
            <div class="algo-info">
                <p>Una <strong>colisiÃ³n</strong> ocurre cuando dos entradas diferentes producen el mismo hash.</p>
                <div class="code-example">
                    <strong>Ejemplo real de colisiÃ³n MD5:</strong>
                    <pre>
Archivo A: [datos binarios 1]
MD5: d131dd02c5e6eec4...

Archivo B: [datos binarios diferentes]
MD5: d131dd02c5e6eec4... â† Â¡MISMO HASH!

Consecuencia: Un atacante puede sustituir archivos sin ser detectado
                    </pre>
                </div>
                <p><strong>Estado actual:</strong></p>
                <ul>
                    <li>MD5: âŒ Completamente roto (2004)</li>
                    <li>SHA-1: âš ï¸ Colisiones encontradas (2017)</li>
                    <li>SHA-256: âœ… Sin colisiones conocidas</li>
                    <li>SHA-3: âœ… DiseÃ±o resistente a colisiones</li>
                </ul>
            </div>
        </div>

        <div class="demo-section">
            <h3>ğŸª Salting - ProtecciÃ³n de ContraseÃ±as [1-3,11]</h3>
            <div class="algo-info">
                <p><strong>Salt:</strong> Dato aleatorio Ãºnico agregado a cada contraseÃ±a antes de hashear</p>
                <div class="code-example">
                    <strong>Sin Salt (INSEGURO):</strong>
                    <pre>
Usuario1: password â†’ 5f4dcc3b...
Usuario2: password â†’ 5f4dcc3b... â† Â¡Mismo hash!

Atacante usa rainbow table â†’ Rompe ambas passwords
                    </pre>
                </div>

                <div class="code-example">
                    <strong>Con Salt (SEGURO):</strong>
                    <pre>
Usuario1: password + salt1 â†’ a9f2bc3d...
Usuario2: password + salt2 â†’ 7e8d4a1c... â† Hash diferente

Cada usuario necesita rainbow table diferente â†’ Inviable
                    </pre>
                </div>

                <div class="demo-interactive">
                    <h4>DemostraciÃ³n de Salt:</h4>
                    <input type="password" id="salt-password" placeholder="ContraseÃ±a" value="password123" />
                    <button id="salt-demo" class="btn-primary">Generar Hashes con Salt</button>
                    <div id="salt-result" class="result-box"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="info-box">
        <h4>ğŸ¯ Casos de Uso [1-3,11]</h4>
        <ul>
            <li><strong>VerificaciÃ³n de Integridad:</strong> Descargas, actualizaciones de software</li>
            <li><strong>Almacenamiento de ContraseÃ±as:</strong> Nunca guardar en texto plano</li>
            <li><strong>Firmas Digitales:</strong> Hash del documento + cifrado con clave privada</li>
            <li><strong>Blockchain:</strong> Cada bloque contiene hash del bloque anterior</li>
            <li><strong>DeduplicaciÃ³n:</strong> Identificar archivos duplicados sin compararlos byte a byte</li>
            <li><strong>Checksums:</strong> Detectar corrupciÃ³n de datos</li>
            <li><strong>Git:</strong> Identificadores Ãºnicos de commits (SHA-1)</li>
        </ul>
    </div>

    <div class="info-box" style="background: #e8f5e9; border-left-color: #4caf50;">
        <h4>âœ… Mejores PrÃ¡cticas [1-3,11]</h4>
        <ul>
            <li>Para contraseÃ±as: Usa <strong>Argon2</strong> o <strong>bcrypt</strong> (no SHA-256 directamente)</li>
            <li>Para integridad: Usa <strong>SHA-256</strong> o superior</li>
            <li>Siempre agrega <strong>salt Ãºnico</strong> por usuario</li>
            <li>Considera agregar <strong>pepper</strong> (secret key) adicional</li>
            <li>Usa factores de trabajo altos para ralentizar ataques de fuerza bruta</li>
            <li>Migra de MD5/SHA-1 a SHA-256/SHA-3 inmediatamente</li>
        </ul>
    </div>
</section>

<style>
    .demo-interactive {
        background: white;
        padding: 16px;
        border-radius: 6px;
        margin-top: 12px;
    }

    .demo-interactive h4 {
        margin-top: 0;
        color: #1687a7;
    }

    .demo-interactive input {
        width: 100%;
        max-width: 300px;
        margin-bottom: 12px;
    }
</style>